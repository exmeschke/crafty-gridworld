<!DOCTYPE html>
<html>
<head>
	<title>Interaction Lab | USC</title>
	<style> * {cursor: none;} </style>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<?php include('loadQtable.php') ?> 
 	<?php include('loadNTable.php') ?> 

	<script type="text/javascript">
		var states = 19; //total states
		var starting_states = 16; // only 1-16 are starting states
		var actions = 4; // 4 actions
		var n_trials = 0; // total number of interactions
		var epsilon = 0.0; // exploration rate 

		var Q_array = <?php echo json_encode($q_array); ?>;
		var n_array = <?php echo json_encode($num_array); ?>;

		var Q_table = [];
		var n_table = [];
		for (i=0; i<starting_states; i++)
		{
			Q_table[i] = [];
			n_table[i] = [];
		 	for (j=0; j<actions; j++)
		 	{
		 		Q_table[i][j] = parseFloat(Q_array[i][j]);
		 		n_table[i][j] = parseInt(n_array[i][j]);
		 		n_trials += n_table[i][j];
		 	}
		}
		epsilon = 1/(0.075*n_trials);
	// Q_line = JSON.stringify(Q_table);
	// console.log(Q_line);
	// n_line = JSON.stringify(n_table);
	// console.log(n_line);
	</script>

	<script type="text/javascript" src="https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"></script>
	<script src="src/game-setup.js"></script>
	<script src="src/human-tasks.js"></script>
	<script src="src/robot-requests.js"></script>
	<script src="src/scene-components.js"></script>
	<script src="src/interacting-components.js"></script>
	<script src="src/scenes.js"></script>
	<script src="src/event-components.js"></script>

</head>
<body>
	<div id="game" style="margin-left:auto; margin-right:auto"></div>

	<?php include('savedata.php') ?> 
	<?php include('saveQTable.php') ?> 
	<?php include('saveNtable.php') ?>

</body>
</html>
